<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="הצטרפו אלינו - כולנה יחד">
    <title>הצטרפו אלינו - כולנה יחד</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="logo">
                    <a href="index.html"
                        style="text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
                        <span class="logo-icon">🤝</span>
                        <span class="logo-text">קולנו יחד</span>
                    </a>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html" class="nav-link">בית</a></li>
                    <li><a href="schools.html" class="nav-link">בתי ספר שותפים</a></li>
                    <li><a href="join.html" class="nav-link active">הצטרפו אלינו</a></li>
                    <li><a href="index.html#contact" class="nav-link">צור קשר</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Join Section -->
    <section class="join-page-section">
        <div class="container">
            <div class="section-header">
                <span class="section-tag">הצטרפו אלינו</span>
                <h1 class="section-title">בואו להיות חלק מהשינוי</h1>
                <p class="section-subtitle">בחרו את הקטגוריה המתאימה לכם ומלאו את הטופס</p>
            </div>

            <!-- Registration Type Selection -->
            <div class="registration-tabs">
                <button class="reg-tab-btn active" data-form="teacher">👩‍🏫 מורה מחפש/ת עבודה</button>
                <button class="reg-tab-btn" data-form="school-partner">🏫 בית ספר מעוניין בחיים משותפים</button>
            </div>

            <!-- ===== TEACHER REGISTRATION FORM ===== -->
            <div id="teacher" class="reg-form-container active">
                <h2>📋 טופס הרשמה למורים</h2>
                <p>מורות ומורים המעוניינים להצטרף למאגר המורים שלנו ולעבוד בבתי ספר יהודיים</p>

                <form id="teacherForm" class="registration-form">
                    <!-- Personal Information -->
                    <h3 class="form-section-title">פרטים אישיים</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherFirstName">שם פרטי *</label>
                            <input type="text" id="teacherFirstName" name="firstName" required placeholder="שם פרטי">
                        </div>
                        <div class="form-group">
                            <label for="teacherLastName">שם משפחה *</label>
                            <input type="text" id="teacherLastName" name="lastName" required placeholder="שם משפחה">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherId">תעודת זהות *</label>
                            <input type="text" id="teacherId" name="idNumber" required placeholder="מספר ת.ז.">
                        </div>
                        <div class="form-group">
                            <label for="teacherBirthDate">תאריך לידה *</label>
                            <input type="date" id="teacherBirthDate" name="birthDate" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherGender">מגדר *</label>
                            <select id="teacherGender" name="gender" required>
                                <option value="">בחר/י</option>
                                <option value="male">זכר</option>
                                <option value="female">נקבה</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="teacherCity">עיר מגורים *</label>
                            <input type="text" id="teacherCity" name="city" required placeholder="עיר מגורים">
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <h3 class="form-section-title">פרטי התקשרות</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherPhone">טלפון נייד *</label>
                            <input type="tel" id="teacherPhone" name="phone" required placeholder="050-000-0000">
                        </div>
                        <div class="form-group">
                            <label for="teacherEmail">אימייל *</label>
                            <input type="email" id="teacherEmail" name="email" required placeholder="example@email.com">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="teacherAddress">כתובת מלאה</label>
                        <input type="text" id="teacherAddress" name="address" placeholder="רחוב, מספר בית, עיר">
                    </div>

                    <!-- Academic Background -->
                    <h3 class="form-section-title">רקע אקדמי</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherDegree">תואר אקדמי *</label>
                            <select id="teacherDegree" name="degree" required>
                                <option value="">בחר/י תואר</option>
                                <option value="bachelor">תואר ראשון (B.A/B.Ed)</option>
                                <option value="master">תואר שני (M.A/M.Ed)</option>
                                <option value="phd">דוקטורט (Ph.D)</option>
                                <option value="diploma">תעודת הוראה</option>
                                <option value="other">אחר</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="teacherInstitution">מוסד לימודים</label>
                            <input type="text" id="teacherInstitution" name="institution"
                                placeholder="שם האוניברסיטה/מכללה">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="teacherCertificate">תעודת הוראה *</label>
                        <select id="teacherCertificate" name="teachingCertificate" required>
                            <option value="">בחר/י</option>
                            <option value="yes">יש לי תעודת הוראה</option>
                            <option value="in_progress">בתהליך קבלת תעודה</option>
                            <option value="no">אין לי תעודת הוראה</option>
                        </select>
                    </div>

                    <!-- Teaching Specialization -->
                    <h3 class="form-section-title">התמחות הוראה</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherSubject">מקצוע הוראה ראשי *</label>
                            <select id="teacherSubject" name="mainSubject" required>
                                <option value="">בחר/י מקצוע</option>
                                <option value="math">מתמטיקה</option>
                                <option value="english">אנגלית</option>
                                <option value="arabic">ערבית</option>
                                <option value="hebrew">עברית</option>
                                <option value="science">מדעים</option>
                                <option value="physics">פיזיקה</option>
                                <option value="chemistry">כימיה</option>
                                <option value="biology">ביולוגיה</option>
                                <option value="history">היסטוריה</option>
                                <option value="geography">גיאוגרפיה</option>
                                <option value="literature">ספרות</option>
                                <option value="art">אמנות</option>
                                <option value="music">מוזיקה</option>
                                <option value="pe">חינוך גופני</option>
                                <option value="special_ed">חינוך מיוחד</option>
                                <option value="computer">מחשבים</option>
                                <option value="other">אחר</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="teacherSubject2">מקצוע הוראה משני</label>
                            <input type="text" id="teacherSubject2" name="secondarySubject"
                                placeholder="מקצוע נוסף (אם יש)">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherAgeGroup">שכבת גיל מועדפת *</label>
                            <select id="teacherAgeGroup" name="ageGroup" required>
                                <option value="">בחר/י</option>
                                <option value="elementary">יסודי (א'-ו')</option>
                                <option value="middle">חט"ב (ז'-ט')</option>
                                <option value="high">תיכון (י'-י"ב)</option>
                                <option value="all">כל השכבות</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="teacherExperience">שנות ניסיון בהוראה *</label>
                            <select id="teacherExperience" name="experience" required>
                                <option value="">בחר/י</option>
                                <option value="0">ללא ניסיון</option>
                                <option value="1-2">1-2 שנים</option>
                                <option value="3-5">3-5 שנים</option>
                                <option value="6-10">6-10 שנים</option>
                                <option value="10+">מעל 10 שנים</option>
                            </select>
                        </div>
                    </div>

                    <!-- Languages -->
                    <h3 class="form-section-title">שפות</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherHebrew">רמת עברית *</label>
                            <select id="teacherHebrew" name="hebrewLevel" required>
                                <option value="">בחר/י רמה</option>
                                <option value="native">שפת אם</option>
                                <option value="fluent">שליטה מלאה</option>
                                <option value="good">טובה</option>
                                <option value="basic">בסיסית</option>
                                <option value="none">אין</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="teacherArabic">רמת ערבית *</label>
                            <select id="teacherArabic" name="arabicLevel" required>
                                <option value="">בחר/י רמה</option>
                                <option value="native">שפת אם</option>
                                <option value="fluent">שליטה מלאה</option>
                                <option value="good">טובה</option>
                                <option value="basic">בסיסית</option>
                                <option value="none">אין</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="teacherEnglish">רמת אנגלית</label>
                        <select id="teacherEnglish" name="englishLevel">
                            <option value="">בחר/י רמה</option>
                            <option value="native">שפת אם</option>
                            <option value="fluent">שליטה מלאה</option>
                            <option value="good">טובה</option>
                            <option value="basic">בסיסית</option>
                            <option value="none">אין</option>
                        </select>
                    </div>

                    <!-- Job Preferences -->
                    <h3 class="form-section-title">העדפות עבודה</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="teacherJobPercent">אחוז משרה מבוקש *</label>
                            <select id="teacherJobPercent" name="jobPercentage" required>
                                <option value="">בחר/י</option>
                                <option value="100">משרה מלאה (100%)</option>
                                <option value="75">75%</option>
                                <option value="50">חצי משרה (50%)</option>
                                <option value="25">25%</option>
                                <option value="flexible">גמיש</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="teacherAvailability">זמינות להתחיל</label>
                            <select id="teacherAvailability" name="availability">
                                <option value="">בחר/י</option>
                                <option value="immediately">מיידית</option>
                                <option value="1month">תוך חודש</option>
                                <option value="next_year">שנה"ל הבאה</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="teacherPreferredArea">אזור עבודה מועדף</label>
                        <input type="text" id="teacherPreferredArea" name="preferredArea"
                            placeholder="מרכז, צפון, דרום...">
                    </div>

                    <!-- Additional Information -->
                    <h3 class="form-section-title">מידע נוסף</h3>
                    <div class="form-group">
                        <label for="teacherAbout">ספר/י לנו על עצמך</label>
                        <textarea id="teacherAbout" name="about" rows="4"
                            placeholder="רקע קצר, מוטיבציה, ציפיות..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary btn-full">שלח הרשמה</button>
                </form>
            </div>

            <!-- ===== SCHOOL PARTNERSHIP FORM ===== -->
            <div id="school-partner" class="reg-form-container">
                <h2>🏫 טופס הרשמה לבתי ספר</h2>
                <p>בתי ספר המעוניינים להצטרף לפרויקט החיים המשותפים ולקלוט מורים מהחברה הערבית</p>

                <form id="schoolPartnerForm" class="registration-form">
                    <!-- School Information -->
                    <h3 class="form-section-title">פרטי בית הספר</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="schoolName">שם בית הספר *</label>
                            <input type="text" id="schoolName" name="schoolName" required placeholder="שם בית הספר">
                        </div>
                        <div class="form-group">
                            <label for="schoolType">סוג בית הספר *</label>
                            <select id="schoolType" name="schoolType" required>
                                <option value="">בחר/י</option>
                                <option value="elementary">יסודי</option>
                                <option value="middle">חט"ב</option>
                                <option value="high">תיכון</option>
                                <option value="comprehensive">מקיף (יסודי-תיכון)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="schoolCity">עיר *</label>
                            <input type="text" id="schoolCity" name="city" required placeholder="עיר">
                        </div>
                        <div class="form-group">
                            <label for="schoolAddress">כתובת מלאה *</label>
                            <input type="text" id="schoolAddress" name="address" required placeholder="רחוב ומספר">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="schoolStudents">מספר תלמידים</label>
                            <input type="number" id="schoolStudents" name="studentCount"
                                placeholder="מספר תלמידים בבית הספר">
                        </div>
                        <div class="form-group">
                            <label for="schoolSector">מגזר *</label>
                            <select id="schoolSector" name="sector" required>
                                <option value="">בחר/י</option>
                                <option value="state">ממלכתי</option>
                                <option value="state_religious">ממלכתי-דתי</option>
                                <option value="independent">עצמאי/חרדי</option>
                                <option value="arab">ערבי</option>
                                <option value="druze">דרוזי</option>
                                <option value="mixed">מעורב</option>
                            </select>
                        </div>
                    </div>

                    <!-- Principal Information -->
                    <h3 class="form-section-title">פרטי המנהל/ת</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="principalName">שם המנהל/ת *</label>
                            <input type="text" id="principalName" name="principalName" required placeholder="שם מלא">
                        </div>
                        <div class="form-group">
                            <label for="principalPhone">טלפון המנהל/ת *</label>
                            <input type="tel" id="principalPhone" name="principalPhone" required
                                placeholder="050-000-0000">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="principalEmail">אימייל המנהל/ת *</label>
                        <input type="email" id="principalEmail" name="principalEmail" required
                            placeholder="principal@school.edu">
                    </div>

                    <!-- Contact Person -->
                    <h3 class="form-section-title">איש קשר (אם שונה מהמנהל)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactName">שם איש קשר</label>
                            <input type="text" id="contactName" name="contactName" placeholder="שם מלא">
                        </div>
                        <div class="form-group">
                            <label for="contactRole">תפקיד</label>
                            <input type="text" id="contactRole" name="contactRole" placeholder="רכז/ת, סגן/ית, וכו'">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="contactPhone">טלפון איש קשר</label>
                            <input type="tel" id="contactPhone" name="contactPhone" placeholder="050-000-0000">
                        </div>
                        <div class="form-group">
                            <label for="contactEmail">אימייל איש קשר</label>
                            <input type="email" id="contactEmail" name="contactEmail" placeholder="contact@school.edu">
                        </div>
                    </div>

                    <!-- Additional Information -->
                    <h3 class="form-section-title">מידע נוסף</h3>
                    <div class="form-group">
                        <label for="schoolMotivation">מדוע אתם מעוניינים להצטרף לפרויקט?</label>
                        <textarea id="schoolMotivation" name="motivation" rows="4"
                            placeholder="ספרו לנו על החזון שלכם והציפיות מהשותפות..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary btn-full">שלח בקשה</button>
                </form>
            </div>

            <!-- Success Message -->
            <div id="successMessage" class="success-message hidden">
                <div class="success-icon">✅</div>
                <h2>תודה על הפנייה!</h2>
                <p>קיבלנו את בקשתך ונחזור אליך בהקדם.</p>
                <a href="index.html" class="btn btn-primary">חזרה לדף הבית</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2025 קולנו יחד. כל הזכויות שמורות.</p>
            </div>
        </div>
    </footer>

    <script src="firebase-config.js"></script>
    <script>
        // Tab switching
        const regTabs = document.querySelectorAll('.reg-tab-btn');
        const regForms = document.querySelectorAll('.reg-form-container');

        regTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                regTabs.forEach(t => t.classList.remove('active'));
                regForms.forEach(f => f.classList.remove('active'));

                tab.classList.add('active');
                const formId = tab.getAttribute('data-form');
                document.getElementById(formId).classList.add('active');
            });
        });

        // Form submission handlers
        async function submitForm(collectionName, formElement) {
            const formData = new FormData(formElement);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });
            data.createdAt = firebase.firestore.FieldValue.serverTimestamp();
            data.status = 'pending';

            const submitBtn = formElement.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'שולח...';
            submitBtn.disabled = true;

            try {
                await firebaseDB.collection(collectionName).add(data);

                // Show success message
                document.querySelectorAll('.reg-form-container').forEach(f => f.classList.remove('active'));
                document.querySelector('.registration-tabs').style.display = 'none';
                document.getElementById('successMessage').classList.remove('hidden');

            } catch (error) {
                console.error('Error submitting form:', error);
                alert('אירעה שגיאה. נסו שוב מאוחר יותר.');
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        }

        // Teacher form
        document.getElementById('teacherForm').addEventListener('submit', (e) => {
            e.preventDefault();
            submitForm('teachers', e.target);
        });

        // School partner form
        document.getElementById('schoolPartnerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            submitForm('school_partners', e.target);
        });
    </script>

    <style>
        .form-section-title {
            font-size: 1.1rem;
            color: var(--primary-color);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-color);
        }

        .form-section-title:first-of-type {
            margin-top: 0;
        }
    </style>
</body>

</html>